<div id="request_layer">
    <div class="request_label_layer" style="display:block;">
        <p><a href="javascript:void(0)">i18n('Request password?')</a></p>
    </div>
    <div class="request_form_layer" style="display:none;">
        <p>{LABEL}</p>
        <div>{FORM}</div>
        <p class="message">{MESSAGE}</p>
    </div>
    <div class="reset_form_layer" style="display:none;">
        <p class="message">{RESET_MESSAGE}</p>
        <div>{RESET_FORM}</div>
    </div>
</div>

<script type="text/javascript">
(function($) {
    $(function() {
        var $requestLayer = $("#request_layer");

        function showRequestFormLayer() {
            $requestLayer.find(".request_form_layer").show();
            $requestLayer.find(".request_label_layer").hide();
            $requestLayer.find(".reset_form_layer").hide();
        }

        function showRequestLabelLayer() {
            $requestLayer.find(".request_form_layer").hide();
            $requestLayer.find(".request_label_layer").show();
            $requestLayer.find(".reset_form_layer").hide();
        }

        function showResetFormLayer() {
            $requestLayer.find(".reset_form_layer").show();
        }

        $requestLayer.find("a").click(function() {
            showRequestFormLayer();
            return true;
        });

        $(document).on('keydown', function(event) {
            if (Con.isEscapeKeyEvent(event)) {
                showRequestLabelLayer();
            }
        });

        {JS_CALL}
    });
})(jQuery);
</script>
<!--
template.request_password

i18n('Request password?')

-->
